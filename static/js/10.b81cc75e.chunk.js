(window["webpackJsonpxlego-fe"]=window["webpackJsonpxlego-fe"]||[]).push([[10],{391:function(e,t,a){"use strict";a(388);var n=a(392),r=(a(383),a(382)),i=a(44),o=a(1),c=a.n(o),l=a(400);a(404);t.a=n.a.create()((function(e){var t=e.form,a=e.queryItems,n=void 0===a?[]:a,o=e.queryRecord,d=e.addRecord,p=e.batchRecord,u=e.deleteRecord,s=e.exportExcel;function m(){t.validateFields((function(e,t){e||s(t)}))}var y=[{text:"\u67e5\u8be2",handerClick:function(){t.validateFields((function(e,t){e||o(t)}))},type:"primary"},{text:"\u91cd\u7f6e",handerClick:function(){t.resetFields()}}],f={handleBlur:function(e){t.setFieldsValue(Object(i.a)({},e.target.id,e.target.value.trim()))}};return c.a.createElement(l.a,{layout:"inline",form:t,formItems:n,itemCommonProps:f,renderTailPart:function(){return c.a.createElement("div",null,y.map((function(e){return c.a.createElement(r.a,{key:e.text,type:e.type,style:{marginRight:16},onClick:e.handerClick},e.text)})),d&&c.a.createElement(r.a,{type:"primary",style:{marginRight:16},onClick:d},"\u65b0\u589e"),p&&c.a.createElement(r.a,{className:"btn-orange",style:{marginRight:16},onClick:p},"\u6279\u91cf\u7ba1\u7406"),u&&c.a.createElement(r.a,{className:"btn-orange",style:{marginRight:16},onClick:u},"\u6279\u91cf\u5220\u9664"),s&&c.a.createElement(r.a,{className:"btn-orange",style:{marginRight:16},onClick:m},"\u5bfc\u51faExcel"))}})}))},462:function(e,t,a){"use strict";a.r(t);a(395);var n=a(399),r=(a(396),a(397)),i=(a(401),a(398)),o=(a(383),a(382)),c=(a(402),a(407)),l=(a(186),a(74)),d=a(44),p=a(387),u=a(1),s=a.n(u),m=a(104),y=a(379),f=a.n(y),g=a(391),h=a(409);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O="employee",k="\u5458\u5de5",x=[{type:"input",name:"id",displayName:"\u8f66\u5de5ID"},{type:"input",name:"employeeName",displayName:"\u8f66\u5de5\u59d3\u540d"},{type:"input",name:"telephone",displayName:"\u8054\u7cfb\u7535\u8bdd"},{type:"select",name:"employeeRole",displayName:"\u8f66\u5de5\u89d2\u8272",selectOptions:[{text:"\u5168\u90e8",value:""},{text:"\u666e\u901a\u8f66\u5de5",value:"\u666e\u901a\u8f66\u5de5"},{text:"\u719f\u624b",value:"\u719f\u624b"}],options:{initialValue:""}}],w=[{type:"input",name:"employeeName",displayName:"\u8f66\u5de5\u59d3\u540d",options:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8f66\u5de5\u59d3\u540d"}]}},{type:"select",name:"employeeRole",displayName:"\u8f66\u5de5\u89d2\u8272",selectOptions:[{text:"\u666e\u901a\u8f66\u5de5",value:"\u666e\u901a\u8f66\u5de5"},{text:"\u719f\u624b",value:"\u719f\u624b"}],options:{initialValue:"\u666e\u901a\u8f66\u5de5"}},{type:"radio",name:"gender",displayName:"\u6027\u522b",radioOptions:[{text:"\u7537",value:1},{text:"\u5973",value:2}],options:{initialValue:1}},{type:"datepicker",name:"birthdate",displayName:"\u51fa\u751f\u65e5\u671f"},{type:"input",name:"telephone",displayName:"\u8054\u7cfb\u7535\u8bdd",options:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8f66\u5de5\u8054\u7cfb\u7535\u8bdd"}]}}];t.default=Object(m.connect)((function(e){return v({},e.employee)}))((function(e){var t=e.dispatch,a=e.list,d=e.pageInfo,m=e.record,y=e.loading,b=e.pageRole,j=e.batchOrder,R=Object(u.useState)(!1),E=Object(p.a)(R,2),S=E[0],N=E[1],I=Object(u.useState)([]),C=Object(p.a)(I,2),D=C[0],z=C[1],Y=Object(u.useState)({current:1,pageSize:10,showSizeChanger:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u8bb0\u5f55")}}),P=Object(p.a)(Y,2),T=P[0],F=P[1],q=Object(u.useState)({}),M=Object(p.a)(q,2),H=M[0],V=M[1],L=Object(u.useRef)();function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){var a=e.map((function(e){return e.id})).join();c.a.confirm({content:"\u786e\u8ba4\u8981\u5220\u9664".concat(k),onOk:function(){t({type:"".concat(O,"/batchDelete"),payload:{type:1,ids:a}}).then((function(){return B()}))},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"})}else l.a.error("\u8bf7\u9009\u62e9\u81f3\u5c11\u4e00\u4e2a\u5220\u9664\u9009\u9879")}function B(){F(v({},T,{current:1})),t({type:"".concat(O,"/saveRecord"),payload:{}}),L.current.resetFields()}Object(u.useEffect)((function(){t({type:"".concat(O,"/fetchList"),payload:{pageNo:T.current,pageSize:T.pageSize}})}),[t,T]);var K={onChange:function(e,t){z(t)}},A=[{title:"\u8f66\u5de5ID",dataIndex:"id",key:"id",width:100},{title:"\u8f66\u5de5\u59d3\u540d",dataIndex:"employeeName",key:"employeeName",width:120},{title:"\u8f66\u5de5\u89d2\u8272",dataIndex:"employeeRole",key:"employeeRole",width:100},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"telephone",key:"telephone",width:160}],G={};"order"!==b?(G.addRecord=function(){N(!0)},G.deleteRecord=function(){return J(D)},A.push.apply(A,[{title:"\u6027\u522b",dataIndex:"gender",key:"gender",width:60,render:function(e){return{1:"\u7537",2:"\u5973"}[e]}},{title:"\u51fa\u751f\u65e5\u671f",dataIndex:"birthdate",key:"birthdate",width:120},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",width:120,render:function(e){return f()(e).format("YYYY-MM-DD HH:mm:SS")}},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updateTime",key:"updateTime",width:120,render:function(e){return f()(e).format("YYYY-MM-DD HH:mm:SS")}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",width:150,render:function(e,a){return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{type:"primary",size:"small",onClick:function(){return function(e){t({type:"".concat(O,"/getRecord"),payload:{id:e.id}}).then((function(){N(!0)}))}(a)},style:{margin:5}},"\u4fee\u6539"),s.a.createElement(o.a,{type:"primary",size:"small",onClick:function(){return J([a])}},"\u5220\u9664"))}}])):(A.unshift({title:"\u8ba2\u5355\u64cd\u4f5c",dataIndex:"operation",key:"operation",width:100,render:function(e,t){return s.a.createElement(s.a.Fragment,null,s.a.createElement(o.a,{type:"primary",size:"small",onClick:function(){return j(t)},style:{marginRight:10}},"\u7ba1\u7406\u8ba2\u5355"))}}),A.push({}));var Q={};return"order"!==b&&(Q.rowSelection=K),m.birthdate=f()(m.birthdate),s.a.createElement(n.a,null,s.a.createElement(g.a,Object.assign({ref:L,queryItems:x,queryRecord:function(e){var a=v({},e,{pageNo:1,pageSize:T.pageSize});V(a),t({type:"".concat(O,"/fetchList"),payload:a})}},G)),s.a.createElement(r.a,{tip:"\u52aa\u529b\u52a0\u8f7d\u4e2d...",spinning:y.list},s.a.createElement(i.a,Object.assign({size:"small",bordered:!0,rowKey:"id",dataSource:a,columns:A,onChange:function(e){var a=v({},T,{},e);F(a);var n=v({},H,{pageNo:a.current,pageSize:a.pageSize});V(n),t({type:"".concat(O,"/fetchList"),payload:n})},pagination:v({},T,{total:d.total})},Q))),s.a.createElement(c.a,{title:"\u7f16\u8f91".concat(k),width:800,onCancel:function(){t({type:"".concat(O,"/saveRecord"),payload:{}}),N(!1)},visible:S,footer:null},s.a.createElement(h.a,{addItems:w,record:m,saveRecord:function(e){var a=v({},e,{birthdate:e.birthdate.format("YYYY-MM-DD")});t({type:"".concat(O,"/updateRecord"),payload:a}).then((function(){N(!1),B()}))}})))}))}}]);
//# sourceMappingURL=10.b81cc75e.chunk.js.map