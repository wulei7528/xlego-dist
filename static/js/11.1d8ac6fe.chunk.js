(window["webpackJsonpxlego-fe"]=window["webpackJsonpxlego-fe"]||[]).push([[11],{391:function(e,t,n){"use strict";n(388);var a=n(392),r=(n(383),n(382)),c=n(44),i=n(1),o=n.n(i),l=n(400);n(404);t.a=a.a.create()((function(e){var t=e.form,n=e.queryItems,a=void 0===n?[]:n,i=e.queryRecord,u=e.addRecord,d=e.batchRecord,p=e.deleteRecord,s=e.exportExcel;function m(){t.validateFields((function(e,t){e||s(t)}))}var f=[{text:"\u67e5\u8be2",handerClick:function(){t.validateFields((function(e,t){e||i(t)}))},type:"primary"},{text:"\u91cd\u7f6e",handerClick:function(){t.resetFields()}}],y={handleBlur:function(e){t.setFieldsValue(Object(c.a)({},e.target.id,e.target.value.trim()))}};return o.a.createElement(l.a,{layout:"inline",form:t,formItems:a,itemCommonProps:y,renderTailPart:function(){return o.a.createElement("div",null,f.map((function(e){return o.a.createElement(r.a,{key:e.text,type:e.type,style:{marginRight:16},onClick:e.handerClick},e.text)})),u&&o.a.createElement(r.a,{type:"primary",style:{marginRight:16},onClick:u},"\u65b0\u589e"),d&&o.a.createElement(r.a,{className:"btn-orange",style:{marginRight:16},onClick:d},"\u6279\u91cf\u7ba1\u7406"),p&&o.a.createElement(r.a,{className:"btn-orange",style:{marginRight:16},onClick:p},"\u6279\u91cf\u5220\u9664"),s&&o.a.createElement(r.a,{className:"btn-orange",style:{marginRight:16},onClick:m},"\u5bfc\u51faExcel"))}})}))},603:function(e,t,n){"use strict";n.r(t);n(395);var a=n(399),r=(n(396),n(397)),c=(n(401),n(398)),i=(n(383),n(382)),o=(n(402),n(407)),l=(n(186),n(74)),u=n(44),d=n(387),p=n(1),s=n.n(p),m=n(104),f=n(379),y=n.n(f),g=n(391),b=n(409);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v="flow",w="\u5de5\u5e8f",j=[{type:"input",name:"id",displayName:"\u5de5\u5e8fID"},{type:"input",name:"flowName",displayName:"\u5de5\u5e8f\u540d"}],k=[{type:"input",name:"flowName",displayName:"\u5de5\u5e8f\u540d",options:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5de5\u5e8f\u540d\u79f0"}]}},{type:"input",name:"flowDesc",displayName:"\u5de5\u5e8f\u63cf\u8ff0\u8bf4\u660e"},{type:"input",name:"price",displayName:"\u5de5\u5e8f\u4ef7\u683c",options:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5de5\u5e8f\u4ef7\u683c"},{type:"number",message:"\u6570\u5b57",transform:function(e){return Number(e)}}]}}];t.default=Object(m.connect)((function(e){return O({},e.flow)}))((function(e){var t=e.dispatch,n=e.list,u=e.pageInfo,m=e.record,f=e.loading,h=Object(p.useState)(!1),E=Object(d.a)(h,2),S=E[0],x=E[1],R=Object(p.useState)([]),N=Object(d.a)(R,2),C=N[0],D=N[1],I=Object(p.useState)({current:1,pageSize:10,showSizeChanger:!0,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u8bb0\u5f55")}}),z=Object(d.a)(I,2),P=z[0],T=z[1],Y=Object(p.useState)({}),q=Object(d.a)(Y,2),F=q[0],H=q[1],M=Object(p.useRef)();function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(e.length){var n=e.map((function(e){return e.id})).join();o.a.confirm({content:s.a.createElement("div",null,"\u786e\u8ba4\u8981\u5220\u9664",w,"\uff1f",s.a.createElement("div",{style:{color:"red"}},"\u5220\u9664\u5de5\u5e8f\u64cd\u4f5c\u4f1a\u5f71\u54cd\u6240\u6709\u5173\u8054\u7684\u5458\u5de5\u8ba2\u5355\uff0c\u8bf7\u614e\u91cd\u64cd\u4f5c\uff01")),onOk:function(){t({type:"".concat(v,"/batchDelete"),payload:{type:2,ids:n}}).then((function(){return J()}))},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"})}else l.a.error("\u8bf7\u9009\u62e9\u81f3\u5c11\u4e00\u4e2a\u5220\u9664\u9009\u9879")}function J(){T(O({},P,{current:1})),t({type:"".concat(v,"/saveRecord"),payload:{}}),M.current.resetFields()}Object(p.useEffect)((function(){t({type:"".concat(v,"/fetchList"),payload:{pageNo:P.current,pageSize:P.pageSize}})}),[t,P]);var B={onChange:function(e,t){D(t)}},K=[{title:"\u5de5\u5e8fID",dataIndex:"id",key:"id"},{title:"\u5de5\u5e8f\u540d",dataIndex:"flowName",key:"flowName"},{title:"\u5de5\u5e8f\u63cf\u8ff0\u8bf4\u660e",dataIndex:"flowDesc",key:"flowDesc"},{title:"\u5de5\u5e8f\u6700\u65b0\u4ef7\u683c",dataIndex:"price",key:"price"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",key:"createTime",render:function(e){return y()(e).format("YYYY-MM-DD HH:mm:SS")}},{title:"\u4fee\u6539\u65f6\u95f4",dataIndex:"updateTime",key:"updateTime",render:function(e){return y()(e).format("YYYY-MM-DD HH:mm:SS")}},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",render:function(e,n){return s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{type:"primary",size:"small",onClick:function(){return function(e){t({type:"".concat(v,"/getRecord"),payload:{id:e.id}}).then((function(){x(!0)}))}(n)},style:{marginRight:10}},"\u4fee\u6539"),s.a.createElement(i.a,{type:"primary",size:"small",onClick:function(){return L([n])}},"\u5220\u9664"))}}];return s.a.createElement(a.a,null,s.a.createElement(g.a,{ref:M,queryItems:j,addRecord:function(){x(!0)},queryRecord:function(e){var n=O({},e,{pageNo:1,pageSize:P.pageSize});H(n),t({type:"".concat(v,"/fetchList"),payload:n})},deleteRecord:function(){return L(C)}}),s.a.createElement(r.a,{tip:"\u52aa\u529b\u52a0\u8f7d\u4e2d...",spinning:f.list},s.a.createElement(c.a,{size:"small",dataSource:n,columns:K,rowSelection:B,bordered:!0,rowKey:"id",onChange:function(e){var n=O({},P,{},e);T(n);var a=O({},F,{pageNo:n.current,pageSize:n.pageSize});H(a),t({type:"".concat(v,"/fetchList"),payload:a})},pagination:O({},P,{total:u.total})})),s.a.createElement(o.a,{title:"\u7f16\u8f91".concat(w),width:800,onCancel:function(){x(!1)},visible:S,footer:null},s.a.createElement(b.a,{addItems:k,record:m,saveRecord:function(e){t({type:"".concat(v,"/updateRecord"),payload:e}).then((function(){x(!1),J()}))}})))}))}}]);
//# sourceMappingURL=11.1d8ac6fe.chunk.js.map