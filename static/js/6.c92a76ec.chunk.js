(window["webpackJsonpxlego-fe"]=window["webpackJsonpxlego-fe"]||[]).push([[6],{400:function(e,t,n){"use strict";n(414);var a=n(429),r=(n(388),n(392)),o=n(1),c=n.n(o),l=(n(410),n(433)),i=n(44),s=n(472),p=(n(441),n(436)),u=(n(601),n(598)),m=(n(418),n(411));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var y=m.a.Option,d=u.a.RangePicker,b=p.a.Group;function g(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).itemCommonProps,n=(t=void 0===t?{}:t).handleBlur,a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Object(s.a)(t,["handleBlur"]),{},e.props),r=e.type,o=e.placeholder,g=e.handleChange;if("input"===r||"password"===r){var O="password"===r?{type:"password"}:{};return c.a.createElement(l.a,Object.assign({},O,{placeholder:o},a,{onChange:function(e){"function"===typeof g&&g(e.target.value)},onBlur:function(e){"function"===typeof n&&n(e)}}))}return"select"===r?c.a.createElement(m.a,Object.assign({placeholder:o,style:{width:"160px"}},a,{onChange:function(e){"function"===typeof g&&g(e)}}),(e.selectOptions||[]).map((function(e){return c.a.createElement(y,{key:e.value,value:e.value},e.text)}))):"radio"===r?c.a.createElement(b,Object.assign({placeholder:o},a,{onChange:function(e){"function"===typeof g&&g(e.target.value)}}),(e.radioOptions||[]).map((function(e){return c.a.createElement(p.a,{key:e.value,value:e.value},e.text)}))):"rangepicker"===r?c.a.createElement(d,Object.assign({format:"YYYY-MM-DD"},a,{onChange:function(e){"function"===typeof g&&g(e)}})):"datepicker"===r?c.a.createElement(u.a,Object.assign({format:"YYYY-MM-DD"},a,{onChange:function(e){"function"===typeof g&&g(e)}})):void 0}n(404);var O=r.a.Item;t.a=function(e){var t=e.form,n=e.formItems,o=void 0===n?[]:n,l=e.itemCommonProps,i=e.layout,s=void 0===i?"horizontal":i,p=e.renderTailPart,u=e.record,m=e.onlyText,f=void 0!==m&&m,y=t.getFieldDecorator,d="horizontal"===s?{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}}:null,b="horizontal"===s?{wrapperCol:{xs:{span:24,offset:0},sm:{span:20,offset:4}}}:null;return c.a.createElement(r.a,{layout:s,className:s},c.a.createElement(a.a,null,o.map((function(e){return c.a.createElement(O,Object.assign({key:e.name,label:e.displayName},d),f&&u[e.name],c.a.createElement("span",{style:{display:f?"none":"block"}},y(e.name,e.options)(g(e,{itemCommonProps:l}))))}))),c.a.createElement(a.a,{style:{margin:"16px 0"}},p?c.a.createElement(O,b,p()):null))}},404:function(e,t,n){},409:function(e,t,n){"use strict";n(388);var a=n(392),r=(n(383),n(382)),o=n(44),c=n(1),l=n.n(c),i=n(400);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=a.a.create({mapPropsToFields:function(e){var t=e.record,n=void 0===t?{}:t,r={};return Object.keys(n).forEach((function(e){r[e]=a.a.createFormField({value:n[e]})})),r}})((function(e){var t=e.form,n=e.addItems,a=void 0===n?[]:n,c=e.record,p=void 0===c?{}:c,u=e.saveRecord;function m(){t.validateFields((function(e,t){e||u(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},p,{},t))}))}function f(){t.resetFields()}return l.a.createElement(i.a,{form:t,formItems:a,renderTailPart:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(r.a,{type:"primary",style:{marginRight:"16px"},onClick:m},"\u4fdd\u5b58"),l.a.createElement(r.a,{onClick:f},"\u91cd\u7f6e"))}})}))},562:function(e,t,n){},566:function(e,t,n){},607:function(e,t,n){"use strict";n.r(t);var a=n(44),r=(n(474),n(377)),o=(n(476),n(567)),c=n(1),l=n.n(c),i=n(104),s=n(75),p=n(57),u=n.n(p),m=n(599),f=(n(402),n(407)),y=(n(414),n(429)),d=(n(416),n(439)),b=(n(440),n(457)),g=(n(417),n(103)),O=(n(437),n(412)),h=(n(383),n(382)),E=(n(186),n(74)),v=n(387),w=n(409);n(562);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var P=[{type:"password",name:"password",displayName:"\u5f53\u524d\u5bc6\u7801",options:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f53\u524d\u5bc6\u7801"}]}},{type:"password",name:"tempPassword",displayName:"\u65b0\u5bc6\u7801",options:{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u65b0\u5bc6\u7801"}]}},{type:"password",name:"newPassword",displayName:"\u786e\u8ba4\u5bc6\u7801",options:{rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u65b0\u5bc6\u7801"}]}}];var k=Object(i.connect)()((function(e){var t=e.dispatch,n=Object(c.useState)(!1),r=Object(v.a)(n,2),o=r[0],i=r[1],s=Object(c.useState)(!1),p=Object(v.a)(s,2),m=p[0],k=p[1],D=l.a.createElement(O.a,null,l.a.createElement(O.a.Item,{key:"1"},l.a.createElement(h.a,{type:"link",icon:"logout",onClick:function(){k(!0)}},"\u4fee\u6539\u5bc6\u7801")),l.a.createElement(O.a.Item,{key:"2"},l.a.createElement(h.a,{type:"link",icon:"logout",onClick:function(e){e.preventDefault(),u.a.remove("userName"),u.a.remove("companyId"),window.location.href="/"}},"\u9000\u51fa\u767b\u5f55")));return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,null,l.a.createElement(b.a,{span:12},l.a.createElement(g.a,{className:"trigger",type:o?"menu-unfold":"menu-fold",onClick:function(){i(!o),t({type:"common/saveSiderMenuCollapsed",payload:!o})}})),l.a.createElement(b.a,{span:12},l.a.createElement("div",{className:"header_user"},l.a.createElement(d.a,{overlay:D},l.a.createElement(h.a,{type:"link"},u.a.get("userName")||"\u672a\u77e5\u7528\u6237"))))),l.a.createElement(f.a,{title:"\u4fee\u6539\u5bc6\u7801",visible:m,onCancel:function(){k(!1)},footer:null},l.a.createElement(w.a,{addItems:P,saveRecord:function(e){var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{userName:u.a.get("userName")});n.tempPassword===n.newPassword?(delete n.tempPassword,t({type:"user/savePassword",payload:n}).then((function(e){e&&!e.code?(E.a.success("\u5bc6\u7801\u4fee\u6539\u6210\u529f"),k(!1)):E.a.error("\u5bc6\u7801\u4fee\u6539\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")}))):E.a.error("\u786e\u8ba4\u5bc6\u7801\u548c\u65b0\u5bc6\u7801\u5fc5\u987b\u4e00\u81f4")}})))})),D=n(435),C=n(141),I=n.n(C),S=[{key:"company",title:"\u516c\u53f8\u4fe1\u606f\u7ba1\u7406",iconType:"team",path:"/company",component:I()({component:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,608))}})},{key:"employee",title:"\u5458\u5de5\u7ba1\u7406",iconType:"user",path:"/employee",component:I()({component:function(){return Promise.all([n.e(0),n.e(1),n.e(10)]).then(n.bind(null,462))}})},{key:"flow",title:"\u5de5\u5e8f\u7ba1\u7406",iconType:"interaction",path:"/flow",component:I()({component:function(){return Promise.all([n.e(0),n.e(1),n.e(11)]).then(n.bind(null,603))}})},{key:"price",title:"\u5de5\u5e8f\u5386\u53f2\u4ef7\u683c",iconType:"pay-circle",path:"/price",component:I()({component:function(){return Promise.all([n.e(0),n.e(1),n.e(12)]).then(n.bind(null,604))}})},{key:"order",title:"\u8ba2\u5355\u7ba1\u7406",iconType:"ordered-list",path:"/order",component:I()({component:function(){return Promise.all([n.e(0),n.e(1),n.e(9)]).then(n.bind(null,606))}})},{key:"report",title:"\u62a5\u8868\u7ba1\u7406",iconType:"schedule",path:"/report",component:I()({component:function(){return Promise.all([n.e(0),n.e(1),n.e(7),n.e(8)]).then(n.bind(null,605))}})}];var N=O.a.SubMenu,x=O.a.Item;var F=Object(s.withRouter)((function(e){var t,n=e.location.pathname;return t="/"===n?"company":n.substring(n.indexOf("/")+1),l.a.createElement(O.a,{theme:"dark",mode:"inline",defaultSelectedKeys:[t],defaultOpenKeys:["company"]},function e(t){return t.map((function(t){return t.children&&t.children.length>0?l.a.createElement(N,{key:t.key,title:l.a.createElement(l.a.Fragment,null,t.iconType&&l.a.createElement(g.a,{type:t.iconType}),l.a.createElement("span",null,t.title))},e(t.children)):l.a.createElement(x,{key:t.key},l.a.createElement(s.Link,{to:t.path},t.iconType&&l.a.createElement(g.a,{type:t.iconType}),l.a.createElement("span",null,t.title)))}))}(S))}));function T(e){return function e(t){var n=[];return t.forEach((function(t){Array.isArray(t.children)?n.push.apply(n,Object(D.a)(e(t.children))):n.push(t)})),n}(e).map((function(e){return l.a.createElement(s.Route,{key:e.key,path:e.path,exact:!0,component:e.component})}))}var R=function(){return l.a.createElement(s.Switch,null,T(S),l.a.createElement(s.Redirect,{exact:!0,from:"/",to:"/company"}))},Y=(n(563),n(600)),M={company:"\u516c\u53f8\u4fe1\u606f\u7ba1\u7406",employee:"\u5458\u5de5\u7ba1\u7406",flow:"\u5de5\u5e8f\u7ba1\u7406",price:"\u4ef7\u683c\u7ba1\u7406",order:"\u8ba2\u5355\u7ba1\u7406",report:"\u62a5\u8868\u67e5\u770b"};var q=Object(s.withRouter)((function(e){var t=e.location.pathname.split("/");return l.a.createElement(Y.a,{style:{margin:"16px 0"}},l.a.createElement(Y.a.Item,null,"\u5f53\u524d\u6240\u5728\u4f4d\u7f6e"),t.map((function(e){return e&&l.a.createElement(Y.a.Item,{key:e},M[e])})))})),L=(n(458),n(413)),z=(n(388),n(392)),A=(n(410),n(433)),B="user";var J=Object(i.connect)()(z.a.create()((function(e){var t=e.form,n=e.dispatch,a=localStorage.getItem("rememberFlag")||!1,r=Object(c.useState)(a),o=Object(v.a)(r,2),i=o[0],s=o[1],p=t.getFieldDecorator;return l.a.createElement("div",{style:{position:"absolute",top:0,left:0,background:"#eee",width:"100%",height:"100%"}},l.a.createElement(z.a,{style:{position:"absolute",background:"#fff",width:360,padding:20,top:"30%",left:"50%",marginLeft:-180}},l.a.createElement("h2",{style:{textAlign:"center"}},"\u5de5\u5382\u751f\u4ea7\u7ba1\u7406\u7cfb\u7edf1.0"),l.a.createElement(z.a.Item,null,p("userName",{initialValue:localStorage.getItem("userName"),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]})(l.a.createElement(A.a,{prefix:l.a.createElement(g.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),l.a.createElement(z.a.Item,null,p("password",{initialValue:localStorage.getItem("password"),rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(l.a.createElement(A.a,{prefix:l.a.createElement(g.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),l.a.createElement(z.a.Item,null,l.a.createElement(L.a,{checked:i,onClick:function(){i?localStorage.removeItem("rememberFlag"):localStorage.setItem("rememberFlag",!0),s(!i)}},"\u8bb0\u4f4f\u6211"),l.a.createElement(h.a,{type:"primary",className:"login-form-button",onClick:function(e){e.preventDefault(),t.validateFields((function(e,t){e||n({type:"".concat(B,"/fetchList"),payload:t}).then((function(e){var n=e.data||[];if(0!==n.length){var a=n[0]||{},r=a.companyId,o=a.userName;i&&(localStorage.setItem("userName",o),localStorage.setItem("password",t.password)),u.a.set("userName",o,{expires:1}),u.a.set("companyId",r,{expires:1}),window.location="/"}else E.a.success("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef,\u8bf7\u91cd\u65b0\u767b\u5f55")}))}))}},"\u767b\u5f55"))))})));n(566);function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var V=o.a.Header,G=o.a.Sider,H=o.a.Content;t.default=Object(i.connect)((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.common)}))((function(e){var t=e.siderMenuCollapsed;return u.a.get("userName")?l.a.createElement(r.a,{locale:m.a},l.a.createElement(o.a,null,l.a.createElement(G,{collapsible:!0,collapsed:t},l.a.createElement("div",{className:"logo"},l.a.createElement(s.Link,{to:"/"},l.a.createElement("h1",null,"\u4e50\u9ad8\u751f\u4ea7\u7ba1\u7406\u7cfb\u7edf"))),l.a.createElement(F,null)),l.a.createElement(o.a,null,l.a.createElement(V,{className:"header"},l.a.createElement(k,null)),l.a.createElement(H,{className:"content"},l.a.createElement(q,null),l.a.createElement(R,null))))):l.a.createElement(J,null)}))}}]);
//# sourceMappingURL=6.c92a76ec.chunk.js.map